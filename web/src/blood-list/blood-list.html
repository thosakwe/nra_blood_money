<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">

<dom-module id="blood-list">
    <template>
        <style>
            :host {
                @apply(--layout);
                @apply(--layout-fullbleed);
                @apply(--layout-vertical);
            }

            iron-list {
                margin-top: 1em;
            }

            paper-drawer-panel, paper-scroll-header-panel, paper-header-panel, paper-listbox {
                @apply(--layout-flex);
                background-color: transparent;
            }

            paper-fab {
                position: fixed;
                bottom: 1em;
                right: 1em;
                z-index: 999;
            }

            paper-icon-item {
                color: var(--primary-text-color);
            }

            paper-toolbar {
                box-shadow: 0 5px 6px -3px rgba(0, 0, 0, 0.4);
            }

            .avatar img {
                border-radius: 50%;
                height: 2.5em;
                margin-right: 1em;
            }
        </style>

        <paper-fab icon="add"></paper-fab>

        <paper-drawer-panel id="drawer" force-narrow right-drawer>
            <paper-header-panel slot="drawer">
                <paper-listbox>
                    <paper-icon-item>
                        <iron-icon icon="favorite" slot="item-icon"></iron-icon>
                        Yup
                    </paper-icon-item>
                </paper-listbox>
            </paper-header-panel>

            <paper-scroll-header-panel slot="main" condenses>
                <paper-toolbar class="medium-tall" slot="header">
                    <paper-icon-button icon="chevron-left" slot="top"></paper-icon-button>
                    <div class="title" slot="top">
                        NRA-Friendly Politicians
                    </div>
                    <paper-icon-button icon="search" slot="top"></paper-icon-button>
                    <paper-tabs class="fit" slot="bottom" selected="0">
                        <paper-tab>ALL</paper-tab>
                        <paper-tab>SENATE</paper-tab>
                        <paper-tab>HOUSE</paper-tab>
                        <paper-tab>OTHER</paper-tab>
                    </paper-tabs>
                </paper-toolbar>
                <paper-listbox slot="content">
                    <template is="dom-repeat" items="[[politicians]]" as="p">
                        <paper-icon-item on-tap="__selectItem" data-item$="[[p]]">
                            <div class="avatar" slot="item-icon">
                                <img src$="[[p.image_url]]" alt$="[[p.name]]">
                            </div>
                            <paper-item-body>
                                <div>[[p.name]]</div>
                            </paper-item-body>
                        </paper-icon-item>
                    </template>
                </paper-listbox>
            </paper-scroll-header-panel>
        </paper-drawer-panel>
    </template>

    <script>
      /**
       * @customElement
       * @polymer
       */
      class BloodList extends Polymer.Element {
        static get is() {
          return 'blood-list';
        }

        __selectItem(e) {
          this.$.drawer.openDrawer();
        }
      }

      window.customElements.define(BloodList.is, BloodList);
    </script>
</dom-module>